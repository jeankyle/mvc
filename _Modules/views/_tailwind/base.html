<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='UTF-8' />
    <meta name='viewport' content='width=device-width, initial-scale=1.0' />
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='ie=edge'>

    <link rel='icon' type='image/png' href='/public/images/evo_icon_light.png'/>

    <title>{% block title %}{% endblock %}</title>

<!--    <link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.3.1/css/all.css' integrity='sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU' crossorigin='anonymous'>-->
<!--    <link rel='stylesheet' href='/public/css/fontawesome.css'>-->
    <link rel='stylesheet' href='/public/css/style.css'>

    <script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js' integrity='sha512-QSkVNOCYLtj73J4hbmVoOV6KVZuMluZlioC+trLpewV8qMjsWqlIQvkn1KGX2StWvPMdWGBqim1xlC8krl1EKQ==' crossorigin='anonymous' referrerpolicy='no-referrer'></script>
<!--    <script src='/public/js/chart.js'></script>-->
    <script src='https://cdn.tailwindcss.com'></script>
    <script src='https://kit.fontawesome.com/e29189de31.js' crossorigin='anonymous'></script>
</head>

<body class='bg-cover bg-center'>

{% if current_user %}
    <div class='flex flex-row flex-nowrap min-h-screen overflow-hidden bg-gray-200'>
        <aside id='aside' class='w-64 h-screen overflow-auto bg-gradient-to-b from-black to-red-900'>
            <div class='sidebar-header flex items-center justify-center'>
                <a class='inline-flex flex-row items-center text-gray-100 text-base xl:text-xl no-underline hover:no-underline font-bold w-5/6'  href='/'>
                    <img src='/public/images/evo_logo_light.png' alt='evo' class='p-8 pb-1 w-5/6'>
                </a>
            </div>

            {% include 'includes/sidebar.html' %}
        </aside>

        <div class='flex flex-col flex-1 h-screen relative'>

            {% include 'includes/header.html' %}

            <main id='main' class='flex-1 bg-gray-200 overflow-auto mb-1/12'>
                <div class='main-content flex flex-col flex-grow p-4'>
                    <div class='grid grid-cols-3 gap-4 mx-8'>
                        <nav class='flex text-gray-900 mx-8' aria-label='Breadcrumb'>
                            <ol class='inline-flex items-center'>
                                <li class='inline-flex items-center'>
                                    <a href='/home/index' class='inline-flex items-center text-sm font-medium text-gray-700 hover:text-gray-900'>
                                        Abc
                                    </a>
                                </li>

                                <li>
                                    <div class='flex items-center'>
                                        <i class='fas fa-angle-right ml-2 w-4 h-4'></i>
                                        <a href='{% block link %}{% endblock %}' class='inline-flex items-center text-sm font-medium text-gray-700 hover:text-gray-900'>
                                            <span class='ml-1 text-sm font-medium text-gray-700 hover:text-gray-900 capitalize'>{% block controller %}{% endblock %}</span>
                                        </a>
                                    </div>
                                </li>
                            </ol>
                        </nav>
                    </div>

                    <div class='flex flex-col flex-grow rounded mx-8 p-4'>
                        {% block body %} {% endblock %}
                    </div>
                </div>
            </main>

            {% if flash_messages is not empty %}
                <div id='dashboard_message' class='w-3/12 mr-2 mb-4 absolute right-0 bottom-0 text-center'>
                    {% for message in flash_messages %}
                            <div class='w-full mx-auto'>
                                <div class='p-4 mb-2 text-{{ message.color }}-900 bg-{{ message.color }}-100 border border-{{ message.color }}-200 border-b-{{ message.color }}-400 rounded-md'>
                                    <div class='flex flex-1 justify-between flex-wrap'>
                                        <div class='mr-3'>
                                            <svg width='26' height='26' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg' fill='currentColor'>
                                                <path d='M14.1667 17h-3.3334c-.5 0-.8333-.3146-.8333-.7865 0-.472.3333-.7865.8333-.7865H11.5c.0833 0 .1667-.0787.1667-.1573v-3.5394c0-.0786-.0834-.1573-.1667-.1573h-.6667c-.5 0-.8333-.3146-.8333-.7865S10.3333 10 10.8333 10h.8334c.9166 0 1.6666.7079 1.6666 1.573v3.7753c0 .0787.0834.1573.1667.1573h.6667c.5 0 .8333.3146.8333.7865 0 .472-.3333.7079-.8333.7079zM12.3 6c.6933 0 1.3.6067 1.3 1.3s-.52 1.3-1.3 1.3S11 7.9933 11 7.3 11.6067 6 12.3 6zM12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2'></path>
                                            </svg>
                                        </div>
                                        <div class='text-md leading-6 font-medium'>
                                            {{ message.body }}
                                        </div>
                                         <div class='mr-3 mt-2 relative'>
                                        <!-- <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' class='flex-none fill-current text-{{ message.color }}-600 absolute t-0 r-0 h-3 w-3'>-->
                                        <!-- <path d='M23.954 21.03l-9.184-9.095 9.092-9.174-2.832-2.807-9.09 9.179-9.176-9.088-2.81 2.81 9.186 9.105-9.095 9.184 2.81 2.81 9.112-9.192 9.18 9.1z' />-->
                                        <!-- </svg>-->
                                         </div>
                                    </div>
                                </div>
                            </div>

                    {% endfor %}
                </div>
            {% endif %}

            <div class='bg-transparent'>{% include 'includes/footer.html' %}</div>
        </div>
    </div>
{% else %}
    <div id='wbody' class='h-screen flex flex-col justify-between items-center bg-cover bg-center relative'  style='background-image: url("/public/images/bg.jpg");'>

        <main class='w-3/12 h-3/6 my-auto backdrop-grayscale-0 bg-white/30 rounded-lg'>
            <div id='form_display' class='flex flex-col flex-grow items-center justify-center rounded mt-3 px-8 mx-auto text-gray-900 h-full'>
                {% block wbody %} {% endblock %}
            </div>
        </main>

        <div class='w-3/12 mr-4 absolute right-0 bottom-0'>
            {% if user.errors is not empty %}
                <div id='pop_up_error' class='mb-4 w-full text-center'>
                    {% for error in user.errors %}
                    <div class='p-4 mb-2 text-red-900 bg-red-100 border border-red-200 border-b-red-400 rounded-md'>
                        <div class='flex flex-1 justify-between flex-wrap'>
                            <div class='mr-3'>
                                <svg width='26' height='26' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg' fill='currentColor'>
                                    <path d='M14.1667 17h-3.3334c-.5 0-.8333-.3146-.8333-.7865 0-.472.3333-.7865.8333-.7865H11.5c.0833 0 .1667-.0787.1667-.1573v-3.5394c0-.0786-.0834-.1573-.1667-.1573h-.6667c-.5 0-.8333-.3146-.8333-.7865S10.3333 10 10.8333 10h.8334c.9166 0 1.6666.7079 1.6666 1.573v3.7753c0 .0787.0834.1573.1667.1573h.6667c.5 0 .8333.3146.8333.7865 0 .472-.3333.7079-.8333.7079zM12.3 6c.6933 0 1.3.6067 1.3 1.3s-.52 1.3-1.3 1.3S11 7.9933 11 7.3 11.6067 6 12.3 6zM12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2'></path>
                                </svg>
                            </div>
                            <div class='text-md leading-6 font-medium'>
                                {{ error }}
                            </div>
                             <div class='mr-3 mt-2 relative'>
                            <!-- <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' class='flex-none fill-current text-red-600 absolute t-0 r-0 h-3 w-3'>-->
                            <!-- <path d='M23.954 21.03l-9.184-9.095 9.092-9.174-2.832-2.807-9.09 9.179-9.176-9.088-2.81 2.81 9.186 9.105-9.095 9.184 2.81 2.81 9.112-9.192 9.18 9.1z' />-->
                            <!-- </svg>-->
                             </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            {% endif %}

            {% if flash_messages is not empty %}
                <div id='pop_up_message' class='mb-4 w-full text-center'>
                    {% for message in flash_messages %}
                        <div class='p-4 mb-2 text-{{ message.color }}-900 bg-{{ message.color }}-100 border border-{{ message.color }}-200 border-b-{{ message.color }}-400 rounded-md'>
                            <div class='flex flex-1 justify-between flex-wrap'>
                                <div class='mr-3'>
                                    <svg width='26' height='26' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg' fill='currentColor'>
                                        <path d='M14.1667 17h-3.3334c-.5 0-.8333-.3146-.8333-.7865 0-.472.3333-.7865.8333-.7865H11.5c.0833 0 .1667-.0787.1667-.1573v-3.5394c0-.0786-.0834-.1573-.1667-.1573h-.6667c-.5 0-.8333-.3146-.8333-.7865S10.3333 10 10.8333 10h.8334c.9166 0 1.6666.7079 1.6666 1.573v3.7753c0 .0787.0834.1573.1667.1573h.6667c.5 0 .8333.3146.8333.7865 0 .472-.3333.7079-.8333.7079zM12.3 6c.6933 0 1.3.6067 1.3 1.3s-.52 1.3-1.3 1.3S11 7.9933 11 7.3 11.6067 6 12.3 6zM12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2'></path>
                                    </svg>
                                </div>
                                <div class='text-md leading-6 font-medium'>
                                    {{ message.body }}
                                </div>
                                 <div class='mr-3 mt-2 relative'>
                                <!-- <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' class='flex-none fill-current text-{{ message.color }}-600 absolute t-0 r-0 h-3 w-3'>-->
                                <!-- <path d='M23.954 21.03l-9.184-9.095 9.092-9.174-2.832-2.807-9.09 9.179-9.176-9.088-2.81 2.81 9.186 9.105-9.095 9.184 2.81 2.81 9.112-9.192 9.18 9.1z' />-->
                                <!-- </svg>-->
                                 </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        {% include 'includes/footer.html' %}

    </div>
{% endif %}

<script src='https://unpkg.com/@themesberg/flowbite@1.2.0/dist/flowbite.bundle.js'></script>
<script src='https://unpkg.com/flowbite@1.3.4/dist/datepicker.js'></script>
<script src='/public/js/notifications.js'></script>
</body>
</html>